package packets

import (
	"errors"
	"testing"
)

//go test -v -run="Test_ErrPacketHandler"
func Test_ErrPacketHandler(t *testing.T) {
	payloda := []byte{0xff, 0x48, 0x04, 0x23, 0x48, 0x59, 0x30, 0x30, 0x30, 0x4e, 0x6f, 0x20,
		0x74, 0x61, 0x62, 0x6c, 0x65, 0x73, 0x20, 0x75, 0x73, 0x65, 0x64}
	capabilities := uint32(512)
	errP := ErrPacketHandler(payloda, capabilities)
	if errP.err {
		t.Log(errors.New(errP.String()))
	}
	errPayloda := []byte{
		0xa2, 0x00, 0x00, 0x01, 0xff, 0x28, 0x04, 0x23, 0x34, 0x32, 0x30, 0x30, 0x30, 0x59, 0x6f, 0x75,
		0x20, 0x68, 0x61, 0x76, 0x65, 0x20, 0x61, 0x6e, 0x20, 0x65, 0x72, 0x72, 0x6f, 0x72, 0x20, 0x69,
		0x6e, 0x20, 0x79, 0x6f, 0x75, 0x72, 0x20, 0x53, 0x51, 0x4c, 0x20, 0x73, 0x79, 0x6e, 0x74, 0x61,
		0x78, 0x3b, 0x20, 0x63, 0x68, 0x65, 0x63, 0x6b, 0x20, 0x74, 0x68, 0x65, 0x20, 0x6d, 0x61, 0x6e,
		0x75, 0x61, 0x6c, 0x20, 0x74, 0x68, 0x61, 0x74, 0x20, 0x63, 0x6f, 0x72, 0x72, 0x65, 0x73, 0x70,
		0x6f, 0x6e, 0x64, 0x73, 0x20, 0x74, 0x6f, 0x20, 0x79, 0x6f, 0x75, 0x72, 0x20, 0x4d, 0x79, 0x53,
		0x51, 0x4c, 0x20, 0x73, 0x65, 0x72, 0x76, 0x65, 0x72, 0x20, 0x76, 0x65, 0x72, 0x73, 0x69, 0x6f,
		0x6e, 0x20, 0x66, 0x6f, 0x72, 0x20, 0x74, 0x68, 0x65, 0x20, 0x72, 0x69, 0x67, 0x68, 0x74, 0x20,
		0x73, 0x79, 0x6e, 0x74, 0x61, 0x78, 0x20, 0x74, 0x6f, 0x20, 0x75, 0x73, 0x65, 0x20, 0x6e, 0x65,
		0x61, 0x72, 0x20, 0x27, 0x73, 0x74, 0x75, 0x64, 0x65, 0x6e, 0x74, 0x27, 0x20, 0x61, 0x74, 0x20,
		0x6c, 0x69, 0x6e, 0x65, 0x20, 0x31,
	}
	errP = ErrPacketHandler(errPayloda, capabilities)
	t.Log(errors.New(errP.String()))
}
